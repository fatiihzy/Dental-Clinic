version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - ask_name
  - ask_gpt
  - buat_janji_temu
  - buat_janji_lengkap
  - tanya_semua_jadwal_dokter
  - tanya_jadwal_dokter

entities:
  - dokter
  - nama
  - tanggal
  - jam
  - kontak
  - jenis_pengobatan

slots:
  nama:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
          - active_loop: form_janji_temu

  dokter:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: dokter
        conditions:
          - active_loop: form_janji_temu

  tanggal:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
          - active_loop: form_janji_temu

  jam:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
          - active_loop: form_janji_temu

  kontak:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
          - active_loop: form_janji_temu

  jenis_pengobatan:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
        conditions:
          - active_loop: form_janji_temu


responses:
  utter_greet:
    - text: "Hai! Ada yang bisa saya bantu hari ini?"

  utter_cheer_up:
    - text: "Semoga ini bisa membuatmu lebih baik :)"
      image: "https://i.imgur.com/nGF1K8f.jpg"

  utter_did_that_help:
    - text: "Apakah itu membantu?"

  utter_happy:
    - text: "Hebat! Lanjutkan :)"

  utter_goodbye:
    - text: "Sampai jumpa!"

  utter_iamabot:
    - text: "Saya adalah asisten virtual klinik gigi."

  utter_default:
    - text: "Maaf, saya hanya bisa menjawab pertanyaan tentang layanan dan perawatan gigi."

  utter_ask_nama:
    - text: "Siapa nama kamu?"

  utter_ask_dokter:
    - text: "Dokter mana yang kamu pilih?"

  utter_ask_tanggal:
    - text: "Tanggal berapa kamu ingin buat janji?"

  utter_ask_jam:
    - text: "Jam berapa kamu ingin datang?"

  utter_ask_kontak:
    - text: "Boleh minta nomor HP atau kontak kamu?"

  utter_ask_jenis_pengobatan:
    - text: "Jenis perawatannya apa ya? (misal: scaling, tambal, cabut)"

actions:
  - action_gpt_answer
  - action_cek_jadwal_dokter
  - action_simpan_janji_temu
  - action_semua_jadwal_dokter
  - validate_form_janji_temu

forms:
  form_janji_temu:
    required_slots:
      - nama
      - dokter
      - tanggal
      - jam
      - kontak
      - jenis_pengobatan

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
